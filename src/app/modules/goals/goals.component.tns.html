<ActionBar>
  <StackLayout
    orientation="horizontal"
    ios:horizontalAlignment="center"
    android:horizontalAlignment="left"
  >
    <StackLayout>
      <app-deadlines></app-deadlines>
    </StackLayout>
  </StackLayout>
</ActionBar>

<GridLayout rows="*, auto">
  <!--Lists -->
  <ScrollView row="0">
    <StackLayout>
      <!-- All done -->
      <!-- TODO refactor to no-goals and show appropriate msg when its long-term, today itp -->
      <app-all-done *ngIf="(undoneGoals$ | async).length === 0"></app-all-done>

      <!-- Todo list -->
      <app-list-goals [goals]="(undoneGoals$ | async)"></app-list-goals>

      <!-- Done list -->
      <label
        *ngIf="(doneGoals$ | async).length > 0"
        [text]="'Done'"
        class="list__label"
      ></label>

      <app-list-goals [goals]="(doneGoals$ | async)"></app-list-goals>
    </StackLayout>
  </ScrollView>

  <!-- Overview -->
  <StackLayout
    *ngIf="showAddGoalComponent$ | async"
    class="overview"
    (tap)="hideAddGoalComponent()"
  ></StackLayout>

  <!-- Add Goal Component -->
  <StackLayout row="1" [ngClass]="{'hide': !(showAddGoalComponent$ | async)}">
    <app-add-goal *ngIf="(showAddGoalComponent$ | async)"></app-add-goal>
  </StackLayout>

  <!-- Add goal button container -->
  <AbsoluteLayout
    row="0"
    *ngIf="!(showAddGoalComponent$ | async)"
    class="float-btn-container"
  >
    <app-float-btn [size]="58" (fabTap)="showAddGoalComponent()">
      <label [text]="'mdi-add' | fonticon" class="mdi"></label>
    </app-float-btn>
  </AbsoluteLayout>
</GridLayout>
