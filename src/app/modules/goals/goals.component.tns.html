<ActionBar>
  <StackLayout
    orientation="horizontal"
    ios:horizontalAlignment="center"
    android:horizontalAlignment="left"
  >
    <StackLayout>
      <app-deadlines></app-deadlines>
    </StackLayout>
  </StackLayout>
</ActionBar>

<!-- TODO UZYC REPETATERA W SCROLL VIEW, lub jakos tak by wszystko bylo w jednym scrollu -->
 
<GridLayout rows="*, auto">
  <StackLayout row="0" flexDirection="column"  orientation="vertical">
    
    <!-- ALL DONE -->
    <StackLayout
      class="no-goals__label"
    >
      <label
        horizontalAlignment="center"
        fontSize="70"
        [text]="'mdi-favorite' | fonticon"
        class="mdi"
        color="#3F51B5"
      ></label>
      <label [text]="'No goals'"></label>
    </StackLayout>

    <!-- TODO LIST -->
    <app-list-goals
      [goals]="goals$ | async"
      (goalStateChange)="onGoalStateChange($event)"
    ></app-list-goals>

    <!-- DONE LIST -->
    <label
      *ngIf="(doneGoals$ | async).length > 0"
      [text]="'Done'"
      class="list__label"
    ></label>

    <app-list-goals
      [goals]="doneGoals$ | async"
      (goalStateChange)="onGoalStateChange($event)"
    ></app-list-goals>
  </StackLayout>

  <!-- Overview -->
  <StackLayout
    *ngIf="showAddGoalComponent$ | async"
    class="overview"
    (tap)="hideAddGoalComponent()"
  ></StackLayout>

  <!-- Add Goal Component -->
  <StackLayout row="1">
    <app-add-goal></app-add-goal>
  </StackLayout>

  <AbsoluteLayout
    row="0"
    *ngIf="!(showAddGoalComponent$ | async)"
    class="float-btn-container"
  >
    <app-float-btn [size]="58" (fabTap)="showAddGoalComponent()">
      <label [text]="'mdi-add' | fonticon" class="mdi"></label>
    </app-float-btn>
  </AbsoluteLayout>
</GridLayout>
